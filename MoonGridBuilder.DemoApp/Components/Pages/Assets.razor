@page "/"
@using MoonGridBuilder.Core
@using MoonMud.DemoApp.Models
@using MoonGridBuilder.Core.Components

<MudText Typo="Typo.h4" GutterBottom="true">Title</MudText>
<MudText Typo="Typo.body1" Class="mb-8">Subtitle</MudText>

<MoonGridBuilder T="AssetReadDto" Options="_options" Columns="AssetColumns" />

@code {
    private readonly DataGridOptions _options = new();

    private RenderFragment AssetColumns => ColumnBuilder<AssetReadDto>.For()
        .AddColumn<Guid>(x => x.GlobalId, c =>
        {
            c.Title = "ID";
        })
        .AddColumn<string>(x => x.Name, c =>
        {
            c.Title = "Name";
        })
        .AddColumn<string>(x => x.Type, c =>
        {
            c.Title = "Type";
            c.Align = Align.Center;
            c.Filterable = false;
        })
        .AddColumn<string>(x => x.Symbol, c =>
        {
            c.Title = "Symbol";
            c.Filterable = false;
            c.HeaderTemplate = ctx => @<MudText Color="Color.Primary">ðŸ’° Symbol</MudText>;
            c.Template = ctx => @<MudText Color="Color.Info">@ctx.Item.Symbol</MudText>;
        })
        .AddColumn<int>(x => x.Precision, c =>
        {
            c.Title = "Precision";
            c.Align = Align.Right;
            c.Format = "0.###";
        })
        .AddColumn<DateTime>(x => x.CreatedAt, c =>
        {
            c.Title = "Created At";
            c.Align = Align.Right;
            c.Format = "dd MMM yyyy";
        })
        .Build();
}